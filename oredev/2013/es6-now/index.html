<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>ES6 on the front end</title>

		<meta name="description" content="Presentation for OreDev 2013">
		<meta name="author" content="John K. Paul">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/custom.css">
		<link rel="stylesheet" href="css/theme/sky.css" id="theme">
		<link rel="stylesheet" href="css/fullscreen-img.css">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

            <div class="reveal">
            
            
			<div class="slides">
                                <!-- img from http://blog.defenderdirect.com/wp-content/uploads/2013/05/Future-State.jpg -->
				<section fullscreen-img="img/bg.jpg" style="background: rgba(255, 255, 255, .60);">
                                  <div style="position:relative">
                                    <br>
                                    <br>
                                    <br>
                                    <br>
                                    <br>
                                    <br>
                                    <h1></h1>
                                    <h1>ES6 right now</h1>
                                  </div>
                                        <h3 class="inverted"><span style="text-transform: lowercase;">By @johnkpaul</span></h3>
					<script>
						// Delicously hacky. Look away.
						if( navigator.userAgent.match( /(iiiPad|iPod|Android)/i ) )
						document.write( '<p style="color: rgba(0,0,0,0.3); text-shadow: none;">('+'Tap to navigate'+')</p>' );
					</script>
				</section>
				<section fullscreen-img="img/bg.jpg" style="background: rgba(255, 255, 255, .80);">
					<h1>Who?</h1>
					<h3 class="inverted">John K. Paul</h3>
                                        <h3 class="inverted"><span style="text-transform: none;">I work for Conde Nast</span></h3>
                                        <h3 class="inverted"><span style="text-transform: none;">I â™¥ JavaScript</span></h3>
                                        <hr>
                                        <h3 class="inverted"><span style="text-transform: lowercase;">@johnkpaul</span></h3>
                                        <h3 class="inverted"><span style="text-transform: lowercase;">john@johnkpaul.com</span></h3>
                                        <h3 class="inverted"><span style="text-transform: lowercase;">johnkpaul.com</span></h3>
				</section>
				<section fullscreen-img="img/bg.jpg" style="background: rgba(255, 255, 255, .80);">
					<h1>ECMAScript 6</h1>
					<ul>
					  <li>a hell of a long time coming</li>
					  <li>ES3 - 1999</li>
					  <li>ES5 - 2009</li>
					  <li>ES6 - 2014?</li>
					  <li class='fragment'>but who cares?</li>
					</ul>
<h3 class='fragment'>Jargon sidetrack</h3>
				</section>
				<section fullscreen-img="img/bg.jpg" style="background: rgba(255, 255, 255, .80);">
					<h1>ES6</h1>
					<ul>
					  <li>block scoped variables</li>
					  <li>array comprehensions</li>
					  <li>template strings</li>
					  <li>generators/iterators</li>
					  <li>destructuring assignment</li>
					</ul>
				</section>

				<section>
<h4>block scoped variables</h4>
<button class='run'>Run</button>
<div class='ace'>
var arr = [1,2,3];
var o = [];

for(var i = 0; i&lt;arr.length;i++) {
 var val = arr[i];
 o.push(function(){ alert(val); });
}

o.forEach(function(func){ func(); });

</div>
				</section>
				<section>
<h4>array comprehensions</h4>
<button class='run'>Run</button>
<div class='ace'>
var arr = [1, 2, 3, 4];
var doubled = [for (x of arr) 2*x];
doubled.forEach(alert);
</div>
				</section>
				<section>
<h4>lamda / fat arrow</h4>
<button class='run'>Run</button>
<div class='ace'>  'use strict';
  var double = (x) => x * 2;
  alert(double(10));

/*
  var alertHandle;
  var obj = {
    twitter: 'johnkpaul',
    init: function(){
      alertHandle = () => 
        alert(this.twitter);
    }
  };
  obj.init();
  alertHandle();
*/
</div>
				</section>
				<section>
<h4>destructuring assignment</h4>
<button class='run'>Run</button>
<div class='ace'>
var arr = [1, 2, 3];
func(arr);

function func([fst, snd, thd]){
  alert(fst);
  alert(thd);
}

/*    REST PARAMETERS vvv
function destructure(...args){
  var [options, callback] = args;
  alert(options.v);
  alert(typeof callback);
}
var o = {v: true}
destructure(o, () => $.noop);
*/
</div>
				</section>
				<section>
<h4>template strings</h4>
<button class='run'>Run</button>
<div class='ace'>
var first = "John K."
var last = "Paul";
var t = `I'm ${first} ${last}!`;
alert(t);
</div>
				</section>
				<section>
<button class='run'>Run</button>
<div class='ace'>function* inf(){
  var i = 0;
  while(true){
    yield ++i;
  }
}

for(var x of inf()){
  alert(x);
  if(x > 3) { break; }
}

</div>
				</section>
				<section>
<button class='run'>Run</button>
<div class='ace'>class Greeter {
    constructor(message) {
      this.message = message;
    }
    greet() {
      alert(this.message)
    }
}

var greeter = new Greeter('Hey');
greeter.greet();
</div>
				</section>
<!-- img from http://cdn04.cdn.socialitelife.com/wp-content/uploads/2013/07/11/tumblr_mc3hg5VpQP1qcy0p7o1_500.gif -->
				<section fullscreen-img="img/bg.jpg" style="background: rgba(255, 255, 255, .80);">
					<h2>Excited?</h2>
<img src='img/excited.gif'>
<p>There's a whole new language out there</p>
<p>and I didn't even touch on half of the features</p>

				</section>
<!-- img from http://lovemeow.com/wp-content/uploads/2013/08/enhanced-buzz-32550-1377875028-4.jpg -->
				<section fullscreen-img="img/bg.jpg" style="background: rgba(255, 255, 255, .80);">
					<h2>But you can't have it</h2>
<img src='img/sadcat.jpg'>

				</section>
<!-- img from http://www.baseformula.com/blog/wp-content/uploads/2013/05/jealousy2.jpg -->
				<section fullscreen-img="img/jealousy2.jpg" style="background: rgba(255, 255, 255, .80);">
					<h1>Envious?</h1>
					<code>node --harmony</code>
<p class="fragment">node has very different needs</p>

				</section>

				<section fullscreen-img="img/bg.jpg" style="background: rgba(255, 255, 255, .80);">
					<h2>How can we go on?</h2>
<ul>
<li>transpilers - ES6 input, ES5 output</li>
<li>shims - fake as much of ES6 as possible without a build step</li>
</ul>

				</section>
				<section fullscreen-img="img/bg.jpg" style="background: rgba(255, 255, 255, .80);">
					<h2>Traceur</h2>
<p>
  <a href='http://bit.ly/oredev2013traceur' target="_blank">Try the REPL</a>
</p>
<img src='img/traceur-compare.png'>


				</section>
				<section fullscreen-img="img/bg.jpg" style="background: rgba(255, 255, 255, .80);">
					<h2>grunt-traceur</h2>
                                        <p>by Aaron Frost</p>
                                        <pre><code>
  grunt.initConfig({
    traceur: {
        options: {
          sourceMaps: true,
          experimental: true,
          blockBinding: true
        },
        custom: {
          files:{
            'build/': ['js/**/*.js'] // dest : [source files]
          }
        },
      }
  });

  grunt.loadNpmTasks('grunt-traceur');
                                        </code></pre>

				</section>
				<section fullscreen-img="img/bg.jpg" style="background: rgba(255, 255, 255, .80);">
					<h2><a href='https://github.com/thlorenz/es6ify'>es6ify</a></h2>
                                        <p>by Thorsten Lorenz</p>
                                        <p>browserify transform</p>
                                        <pre><code>
var es6ify = require('es6ify');
var browserify = require('browserify');
browserify()
  .add(es6ify.runtime)
  .transform(es6ify)
  .require(require.resolve('./src/main.js'), { entry: true })
  .bundle({ debug: true }) //create source maps
  .pipe(fs.createWriteStream(bundlePath));
                                        </code></pre>

				</section>
				<section fullscreen-img="img/bg.jpg" style="background: rgba(255, 255, 255, .80);">
					<h2>sourcemaps</h2>
<img src='img/sourcemaps.png'/>

				</section>
				<section fullscreen-img="img/bg.jpg" style="background: rgba(255, 255, 255, .80);">
					<h2><a href='https://github.com/Benvie/continuum'>continuum</a></h2>
<p>By Brandon Benvie</p>

<p>gives you an <code>.eval()</code> which runs ES6 in a virtual machine that is written in ES3</p>
<p>Has a long list of supported features</p>
<!--<img src='img/continuum.png'>-->


				</section>
				<section fullscreen-img="img/bg.jpg" style="background: rgba(255, 255, 255, .80);">
					<h2>performance concerns</h2>
<img src='img/traceurperformance.png' style='margin-top:-20px'>

				</section>
				<section fullscreen-img="img/bg.jpg" style="background: rgba(255, 255, 255, .80);">
					<h2>shims</h2>
<p>no build step needed!</p>
<p><a href='https://github.com/paulmillr/es6-shim/'>es6-shim by Paul Miller</a></p>
<ul class='fragment'>
  <li>Number.isNaN()</li>
  <li>String.prototype.contains()</li>
  <li>String.prototype.codePointAt()</li>
  <li>Array.from()</li>
  <li>Object.is()</li>
  <li>Map()</li>
  <li>Set()</li>
</ul>


				</section>
				<section fullscreen-img="img/bg.jpg" style="background: rgba(255, 255, 255, .80);">
					<h2>JSHint Support</h2>
<p>Add <code>esnext: true</code> option</p>

				</section>
				<section fullscreen-img="img/bg.jpg" style="background: rgba(255, 255, 255, .80);">
<!-- image from http://images.fineartamerica.com/images-medium-large-5/elephant-in-the-room-wip-leah-saulnier-the-painting-maniac.jpg -->
<img src='img/elephant.jpg' width="350">
<p class='fragment'><a href='http://square.github.io/es6-module-transpiler/'>ES6 module transpiler</a></p>

				</section>
                                <section fullscreen-img="img/bg.jpg" style="background: rgba(255, 255, 255, .8);">

                                  <h2>What you should do</h2>
                                  <ul>
                                    <li class="fragment">Play around in the traceur repl</li>
                                    <li class="fragment"><a href='http://net.tutsplus.com/tutorials/javascript-ajax/eight-cool-features-coming-in-es6/'>Read up on ES6 features</a></li>
                                    <li class="fragment"><a href='http://ariya.ofilabs.com/'>Read Ariya Hidayat</a></li>
                                    <li class="fragment"><a href='http://www.2ality.com/'>Read Axel Rauschmayer</a></li>
                                    <li class="fragment"><a href='http://addyosmani.com/blog/ecmascript-6-resources-for-the-curious-javascripter/'>Read Addy Osmani</a></li>
                                    <li class="fragment">Add a branch with an ES6 transpiler</li>
                                  </ul>
				</section>
                                <section fullscreen-img="img/bg.jpg" style="background: rgba(255, 255, 255, .8);">

                                  <h2>What you should do</h2>
                                  <ul>
                                    <li ><img src="img/allthethings.jpg"></li>
                                  </ul>
				</section>
				<section  fullscreen-img="img/bg.jpg" style="background: rgba(255, 255, 255, .8);">
					<h1>Thank You</h1>
					<h1>Questions?</h1>
					<h3 class="inverted">By @johnkpaul</h3>
					<h3 class="inverted">john@johnkpaul.com</h3>
				</section>
		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>
		<script src="js/traceur.js"></script>
		<script src="lib/task.js"></script>
		<script src="js/ace/ace.js"></script>
		<script src="js/jquery-1.9.1.js"></script>
                <script>

                </script>

<!--
explain what node has and why it's so easy
green eyes of jealousy

explain some of es6 itself and what makes it so awesome

what is traceur, what's hapepning

grunt-traceur
es6ify

performance concerns weigned between everything else
try catch performance
http://square.github.io/es6-module-transpiler/
http://facebook.github.io/regenerator/
https://github.com/paulmillr/es6-shim/
-->
		<script>

			// Full list of configuration options available here:
			// https: //github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				keyboard: true,
				overview: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/highlight.js', async: true, callback: function() { window.hljs.initHighlightingOnLoad(); } },
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'lib/js/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'lib/js/data-markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
                                        { src: 'plugin/fullscreen-img.js' }
				]
			});

$('.run').click(function(){
                               content = $(this).data('editor').getValue();
                                var ProjectWriter = traceur.outputgeneration.ProjectWriter;
                                var ErrorReporter = traceur.util.ErrorReporter;
                                var url = location.href;
                                var project = new traceur.semantics.symbols.Project(url);
                                var name = 'repl';
                                var sourceFile = new traceur.syntax.SourceFile(name, content);
                                project.addFile(sourceFile);
                                var reporter = new ErrorReporter();
                                var res = traceur.codegeneration.Compiler.compile(reporter, project, false);
                                traceur.options.experimental = true;
                                var source = ProjectWriter.write(res, traceur.options);

                                eval(source);
                        });
jQuery(function(){
  jQuery('.ace').each(function(i, e){

  var editor = ace.edit(e);
      editor.setTheme("ace/theme/chaos");
      editor.getSession().setMode("ace/mode/javascript");
  $(e).prev().data('editor', editor);
  });
});
setTimeout(function(){
console.clear();
}, 2000);
		</script>
<style type="text/css" media="screen">
.run{
position: absolute;
right: 0px;
z-index: 100000;
font-size: 140%;
}
    .ace { 
        top: 0;
        left: 0;
width:100%;height:576px;
text-align:left;
    }
</style>

<!--

The list of solidified ES6 features keeps growing and client side engineers just get greener with envy. Many of these new features wonâ€™t be supported in a broad base of browsers for years to come, but there is hope for us nonetheless. While we donâ€™t have the ease of flipping a command line flag, like node, to bask in the warm sunlight of ES6 sugar, Iâ€™ve pieced together a system that gives us the best that we can hope for.

Using a combination of shims and transpilers, we can enjoy these new language features while still maintaining support for all of the browsers youâ€™d need. Iâ€™ll first explain some of the great new additions to the javascript programming language and example use cases with code that take advantage of ES6â€™s elegance for client side development. I will go through the details of setting up a development environment with source maps for debugging the code that you wrote, rather than what is generated by a transpiler. Then I will discuss setting up a production build system to generate code for non-ES6 browsers.

After listening to this talk, I hope your jealousy will be soothed, and I know that your curiosity will be satisfied. 
-->
	</body>
</html>
